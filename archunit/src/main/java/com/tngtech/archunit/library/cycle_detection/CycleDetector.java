/*
 * Copyright 2014-2024 TNG Technology Consulting GmbH
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package com.tngtech.archunit.library.cycle_detection;

import java.util.Collection;

import com.tngtech.archunit.PublicAPI;

import static com.tngtech.archunit.PublicAPI.State.EXPERIMENTAL;
import static com.tngtech.archunit.PublicAPI.Usage.ACCESS;

/**
 * @see #detectCycles(Collection, Collection)
 */
@PublicAPI(usage = ACCESS, state = EXPERIMENTAL)
public final class CycleDetector {
    private CycleDetector() {
    }

    /**
     * Detects cycles in directed graphs consisting of nodes of type {@code NODE} which are connected
     * by directed edges of type {@code EDGE}.<br>
     * All reported cycles are "simple" cycles, i.e. they pass each node at most once.
     * The algorithm reports all such simple cycles, even if nodes / edges are already part of another cycle.
     * Consider the following case:
     * <p>
     * <img src="data:image/png;base64,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">
     * </p>
     * Then both cycles, red and blue, would be reported.<br><br>
     * For performance reasons the {@link CycleDetector} has a maximum number of cycles to detect.
     * Once this limit is reached the algorithm will terminate and all cycles so far will be reported.
     * For further information please refer to {@link Cycles#maxNumberOfCyclesReached()}.<br><br>
     * Note that the given edges must only reference the given nodes as their {@link Edge#getOrigin() origin} and
     * {@link Edge#getTarget() target} or an exception will be thrown.<br>
     * Also, the passed {@code NODE} types must implement an appropriate and reasonably performant {@link Object#equals(Object)}
     * and {@link Object#hashCode()}.
     *
     * @param nodes The nodes of the graph to create
     * @param edges The edges connecting the nodes of the graph
     * @return All cycles within the graph created from the passed nodes and edges.
     */
    @PublicAPI(usage = ACCESS, state = EXPERIMENTAL)
    public static <NODE, EDGE extends Edge<NODE>> Cycles<EDGE> detectCycles(Collection<NODE> nodes, Collection<EDGE> edges) {
        Graph<NODE, EDGE> graph = new Graph<>();
        graph.addNodes(nodes);
        graph.addEdges(edges);
        return graph.findCycles();
    }
}
